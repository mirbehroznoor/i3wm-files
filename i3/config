# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

set $win Mod4
set $alt Mod1
set $rs Mod3

# Set Path
set $i3sc $HOME/.config/i3/i3scripts

# Refresh i3Status bar
# set $refresh_i3status killall -SIGUSR1 i3status
set $refresh_i3status killall -USR1 i3status
# set $refresh_i3status killall -USR1 py3status

bindsym Shift+Scroll_Lock exec bash $i3sc/keyboard_layout.sh
exec_always --no-startup-id bash $i3sc/keys.sh

# Screen Settings
# exec --no-startup-id "xrandr --output VGA1 --auto --left-of LVDS1"
bindsym $rs+m exec sh $i3sc/external_monitor.sh && $refresh_i3status
exec_always --no-startup-id bash $i3sc/custom_resolutions.sh

# Brigthness Control Keys
bindsym XF86MonBrightnessUp exec xbacklight -inc 10 && xbacklight > $i3sc/values/brightness && $refresh_i3status # increase screen brightness
bindsym XF86MonBrightnessDown exec xbacklight -dec 10 && xbacklight > $i3sc/values/brightness && $refresh_i3status # decrease screen brightness

# Adjust Volume
# sound
bindsym XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5%
bindsym XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle

# bindsym XF86AudioRaiseVolume exec amixer -q -D pulse sset Master 5%+
# bindsym XF86AudioLowerVolume exec amixer -q -D pulse sset Master 5%-
# bindsym XF86AudioMute exec amixer -q -D pulse sset Master toggle

bindsym Shift+Prior exec amixer -q -D pulse sset Master 5%+
bindsym Shift+Next exec amixer -q -D pulse sset Master 5%-
bindsym Pause exec amixer -q -D pulse sset Master toggle

# Touchpad controls
# bindsym XF86TouchpadToggle exec toggletouchpad.sh # toggle touchpad

# Moc player Keys
bindsym XF86AudioPlay exec mocp --toggle-pause
bindsym XF86AudioNext exec mocp --next
bindsym XF86AudioPrev exec mocp --previous
bindsym XF86AudioStop exec mocp --toggle repeat

bindsym $rs+F9 exec mocp --toggle-pause
bindsym $rs+F12 exec mocp --next
bindsym $rs+F11 exec mocp --previous
bindsym $rs+F10 exec mocp --toggle repeat
bindsym Insert exec st -e 'mocp'
bindsym End exec mocp --seek +15
bindsym Home exec mocp --seek -15

# bindsym $win+F1 exec st -e ytfzf -t

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
# font pango:Hack, monospace 7
# font pango: FontAwesome 7
# font pango:Fira Emacs Retina 7
# font pango:Just Old Fashion,FontAwesome,icons 7
# -font 'Noto Sans Bold 15'
# font pango:System San Francisco Display 10

# This font is widely installed, provides lots of unicode glyphs, right-to-left
# text rendering and scalability on retina/hidpi displays (thanks to pango).
font pango:DejaVu Sans Mono 7

# The combination of xss-lock, nm-applet and pactl is a popular choice, so
# they are included here as an example. Modify as you see fit.

# xss-lock grabs a logind suspend inhibit lock and will use i3lock to lock the
# screen before suspend. Use loginctl lock-session to lock your screen.
exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork

# Take a screenshot upon pressing $win+x (select an area)
# bindsym --release Shift+Print exec --no-startup-id scrot -u '%Y-%m-%d_%H%M%S.png' -e 'mv $f ~/Pictures/screenshots/ && gimp ~/Pictures/screenshots/$f' && notify-send -t 3000 ' Screenshot to ~/Pictures/Screenshot'

bindsym --release Shift+Print exec --no-startup-id "gnome-screenshot -s -p 0 -c 0.96,0.5,0.09 $(date +%Y-%m-%d_%H-%M-%S).png"

# NetworkManager is the most popular way to manage wireless networks on Linux,
# and nm-applet is a desktop environment-independent system tray GUI for it.
exec --no-startup-id nm-applet

# Scratchpad
# Make the currently focused window a scratchpad
bindsym $rs+equal move scratchpad
# Show the first scratchpad window
bindsym $rs+minus scratchpad show
# list scratchpad
# bindsym $rs+minus exec sh $i3sc/rofi_scratchpad.sh

# Use Mouse+$win to drag floating windows to their wanted position
# floating_modifier $win

# start a terminal
bindsym $rs+Return exec terminator
# bindsym $rs+Return exec gnome-terminal

# kill focused window
bindsym $alt+F4 kill

# start dmenu (a program launcher)
bindsym $win+d exec dmenu_run -i -fn 'Noto Sans-9.5'
# bindsym $win+d exec "dmenu_run -nf '#F8F8F2' -nb '#282A36' -sb '#6272A4' -sf '#F8F8F2' -fn 'monospace-10' -p 'dmenu%'"


# Find Files and Folders
# bindsym $win+Ctrl+d exec xdg-open "$(locate -e -i -r / | rofi -threads 0 -dmenu -i -p "Find")"
# bindsym $win+Ctrl+d exec nautilus --no-desktop --new-window
# bindsym $win+Ctrl+e exec thunar

# bindsym $rs+Ctrl+d exec emacs "$(ls --group-directories-first | rofi -theme sidebar -dmenu -l 10 -i -p "Folder Names ")"

# There also is the (new) i3-dmenu-desktop which only displays applications
# shipping a .desktop file. It is a wrapper around dmenu, so you need that
# installed.
# bindsym $win+d exec --no-startup-id i3-dmenu-desktop

# change focus
bindsym $rs+period focus left
bindsym $rs+comma focus down
bindsym $win+l focus up
bindsym $win+semicolon focus right

# alternatively, you can use the cursor keys:
bindsym $win+Left focus left
bindsym $win+Down focus down
bindsym $win+Up focus up
bindsym $win+Right focus right

# move focused window
bindsym $win+Shift+j move left
bindsym $win+Shift+k move down
bindsym $win+Shift+l move up
bindsym $win+Shift+semicolon move right

# alternatively, you can use the cursor keys:
bindsym $win+Shift+Left move left
bindsym $win+Shift+Down move down
bindsym $win+Shift+Up move up
bindsym $win+Shift+Right move right

# split in horizontal orientation
bindsym $win+h split h

# split in vertical orientation
bindsym $win+v split v

# enter fullscreen mode for the focused container
bindsym $win+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $win+Ctrl+d layout stacking
bindsym $win+Ctrl+a layout tabbed
bindsym $win+Ctrl+s layout toggle split

# toggle tiling / floating
bindsym $win+Shift+space floating toggle
# https://dev.to/subins2000/watch-movies-while-you-code-in-i3-2mfn
# bindsym Ctrl+$mod+S sticky enable

# kill all containers in the workspace
bindsym $win+Control+Shift+k focus parent, focus parent, focus parent, focus parent, focus parent, focus parent, focus parent, focus parent, focus parent, focus parent, kill

# change focus between tiling / floating windows
bindsym $win+space focus mode_toggle

# focus the parent container
bindsym $win+Shift+comma focus parent

# focus the child container
bindsym $win+Shift+period focus child

# Automatic back and forthe when switching to the current workspace
workspace_auto_back_and_forth yes

# focus follows mouse
focus_follows_mouse no
# mouse_warping none

#Hides mouse pointer if unmoved
exec_always --no-startup-id exec unclutter &
# exec --no-startup-id mousetrap -t 1

# reload the configuration file
bindsym $win+Shift+c reload
# Restart I3 Inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $win+Shift+r restart

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym j resize shrink width 5 px or 5 ppt
        bindsym k resize grow height 5 px or 5 ppt
        bindsym l resize shrink height 5 px or 5 ppt
        bindsym semicolon resize grow width 5 px or 5 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 5 px or 5 ppt
        bindsym Down resize grow height 5 px or 5 ppt
        bindsym Up   resize shrink height 5 px or 5 ppt
        bindsym Right resize grow width 5 px or 5 ppt

        # back to normal: Enter or Escape or $win+r
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $win+r mode "default"
}

bindsym $win+r mode "resize"

set $base00 #2b303b
set $base01 #343d46
set $base02 #4f5b66
set $base03 #65737e
set $base04 #a7adba
set $base05 #c0c5ce
set $base06 #dfe1e8
set $base07 #eff1f5
set $base08 #bf616a
set $base09 #d08770
set $base0A #ebcb8b
set $base0B #a3be8c
set $base0C #96b5b4
set $base0D #8fa1b3
set $base0E #b48ead
set $base0F #ab7967
set $basemy #625f
set $yellow #ffff00
set $white #ffffff
set $dimgray #699999
set $ivory  #fffff0
set $aquamarine  #7fffd4
set $cyan #00ffff
set $green #00ff00

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
    position top
    font pango:KacstBook bold 9px
    status_command i3status

    colors {
    background  #002b36
    statusline #000000

        # State             Border  BG      Text
        # focused_workspace   $base05 $base0D $base00
        focused_workspace   $base05 $aquamarine $base00
        active_workspace    $base05 $base03 $base00
        inactive_workspace  $base03 $base01 $base05
        urgent_workspace    $base08 $base08 $base00
        binding_mode        $base00 $base0A $base00
    }

}

# Basic color configuration using the Base16 variables for windows and borders.
# Property Name         Border  BG      Text    Indicator Child Border
client.focused          $base01 $base01 $ivory $base0D $base01
client.focused_inactive $base01 $base01 $dimgray $base03 $base01
client.unfocused        $base01 $base00 $dimgray $base01 $base01
client.urgent           $base08 $base08 $base00 $base08 $base08
client.placeholder      $base00 $base00 $base05 $base00 $base00
client.background       $base07

# Hide i3status bar on Re/Start
# exec_always exec i3-msg bar mode invisible
# Hide i3status bar
bindsym $rs+space exec bash $i3sc/i3status_visibility.sh
# Show/Hide i3Status bar;; hold Right Super to
# bindsym $win+Ctrl+f exec bash $i3sc/i3status_visibility.sh

# Define names for default workspaces for which we configure key bindings later on# We use variables to avoid repeating the names in multiple places.
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# switch to workspace
bindsym $win+1 workspace $ws1
bindsym $win+2 workspace $ws2
bindsym $win+3 workspace $ws3
bindsym $win+4 workspace $ws4
bindsym $win+5 workspace $ws5
bindsym $win+6 workspace $ws6
bindsym $win+7 workspace $ws7
bindsym $win+8 workspace $ws8
bindsym $win+9 workspace $ws9
bindsym $win+0 workspace $ws10

for_window [class="Terminator"]     resize set 500 600, floating enable, sticky enable
for_window [class="Gnome-terminal"]     resize set 500 600, floating enable, sticky enable
#for_window [class="St"] floating enable, sticky enable
# , resize set 420 550

for_window [window_role="pop-up"]      floating enable
for_window [window_role="task_dialog"] floating enable
for_window [class="Xfce4-notifyd"]     floating enable

for_window [title=".*FRAMEY.*"] floating enable
for_window [title=".*FRAMEY.*"] move container to workspace current
for_window [title="(Open File|File Upload|Save As)"] fullscreen enable

# for_window [class="zoom"] move container to workspace $ws4
# for_window [class="zoom" title="Zoom"] move container to worksapce $ws4
# for_window [class="zoom"] floating enable, sticky enable
# for_window [class="zoom"] [title="Zoom Meeting"] resize set 1880 1040, move position 20 20
# for_window [class="zoom"] floating enable
# for_window [class="Org.gnome.Nautilus"] border none

assign [class="firefox"] → 1
# for_window [class="firefox"] border none
assign [class="Emacs"] → 2
for_window [title="JupyterLab"] floating disable move container to workspace $ws3

# for_window [class="Emacs" title=".*FRAMEY.*"] border pixel 1

# Startup
# assign [class="firefox"] $ws1
exec --no-startup-id firefox

# Fancy title bar
# for_window [class=".*"] title_format "<span font='Tewi 8'><b> %class </b> %title </span>"
title_align center
hide_edge_borders both

# print all window titles bold
# for_window [class=".*"] title_format "<span background='red'>%title</span>"
for_window [class="^.*"] title_format "\
<span font = 'Tewi 8'><b> %class </b></span>\
<span font = 'Tewi 6'><b> %title </b></span>"

# programs//i3-containers//file-explorer
bindsym $win+Ctrl+q exec bash $i3sc/rofi_prog_container_file.sh

# Rofi drun Popup
# bindsym $win+Ctrl+q exec rofi -modi drun -show drun -line-margin 0 -line-padding 2 -separator-style none -columns 10  -disable-history -hide-scrollbar -font 'Noto Sans 8' -theme big_border

# Rofi Window and Other accessories Popup
# bindsym $win+Ctrl+w exec rofi -modi window -show window -width 35 -lines 25 -separator-style none -columns 3  -disable-history -hide-scrollbar -theme Adapta-Nokto
# -theme solarized -font "hack 10"

# Shutdown / Restart / Suspend1
bindsym $win+Shift+Delete exec sh $i3sc/rofi_logout
bindsym $alt+Ctrl+Delete exec i3-msg exit

# Move the active Workspace: back and forth from laptop to external
# bindsym $alt+Tab exec sh $i3sc/rofi_which_display
bindsym $alt+Tab move workspace to output left

bindsym $win+q exec sh $i3sc/rofi_jump_to
bindsym $win+grave exec sh $i3sc/rofi_move_workspace
bindsym $win+Tab exec sh $i3sc/rofi_move_container

# Cycle through Workspace & Container
bindsym $rs+Menu exec bash $i3sc/i3_workspace_switcher
# bindsym $rs+Menu exec --no-startup-id i3-cycle-focus

# Youtube Downloader
# bindsym $rs+Print exec bash $i3sc/youtube_downloader.sh

# Light Mode
bindsym Print exec --no-startup-id sh $i3sc/night_mode.sh && $refresh_i3status

#Alternating layouts with Rust
# exec_always --no-startup-id i3-auto-layout

# Move the Workspace Left or Right
# bindsym $win+bracketright move window to output right
# bindsym $win+bracketleft move window to output left
# bindsym $win+equal move workspace to output right
# bindsym $win+minus move workspace to output right

# translators// dictionary
exec_always ruby $i3sc/leo_search_rofi/leo_search.rb
bindsym $rs+0 exec bash $i3sc/leo_search_rofi/leo_search_rofi.sh
bindsym $rs+9 exec bash $i3sc/leo_search_rofi/trans_shell_rofi.sh

# Set Wallpaper with feh/Background with xsetroot
#feh --bg-fill/--bg-scale
exec_always --no-startup-id feh --bg-fill ~/Pictures/wall_gork.jpg
# exec_always --no-startup-id xsetroot -solid "#002244"
# exec_always --no-startup-id xsetroot -solid "#7a378b"

# nautilus-dropbox on startup
exec_always --no-startup-id "dropbox start"